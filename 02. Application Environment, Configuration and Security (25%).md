1. Define, build and modify container images
    1) How many images are available on this host?

            docker images

        ~ ‚ûú  docker images
        REPOSITORY                      TAG       IMAGE ID       CREATED        SIZE
        alpine                          latest    91ef0af61f39   3 months ago   7.79MB
        nginx                           alpine    c7b4f26a7d93   4 months ago   43.2MB
        nginx                           latest    39286ab8a5e1   4 months ago   188MB
        postgres                        latest    b781f3a53e61   4 months ago   432MB
        ubuntu                          latest    edbfe74c41f8   4 months ago   78MB
        redis                           latest    590b81f2fea1   5 months ago   117MB
        mysql                           latest    a82a8f162e18   5 months ago   586MB
        kodekloud/simple-webapp-mysql   latest    129dd9f67367   6 years ago    96.6MB
        kodekloud/simple-webapp         latest    c6e3cd9aae36   6 years ago    84.8MB

        Answer: 9 

    2)  We just pulled a new image. What is the tag on the newly pulled NGINX image? Êñ∞ÊãâÂèñÁöÑ‚Äã‚ÄãNGINXÈè°ÂÉè‰∏äÁöÑÊ®ôÁ±§ÊòØ‰ªÄÈ∫º  (Ê≠§È°å‰∏çÈáçË¶Å)

        Answer: 1.14-alpine

        ~ ‚ûú  docker images
        REPOSITORY                      TAG           IMAGE ID       CREATED        SIZE
        alpine                          latest        91ef0af61f39   3 months ago   7.79MB
        nginx                           alpine        c7b4f26a7d93   4 months ago   43.2MB
        nginx                           latest        39286ab8a5e1   4 months ago   188MB
        postgres                        latest        b781f3a53e61   4 months ago   432MB
        ubuntu                          latest        edbfe74c41f8   4 months ago   78MB
        redis                           latest        590b81f2fea1   5 months ago   117MB
        mysql                           latest        a82a8f162e18   5 months ago   586MB
        nginx                           1.14-alpine   8a2fb25a19f5   5 years ago    16MB
        kodekloud/simple-webapp-mysql   latest        129dd9f67367   6 years ago    96.6MB
        kodekloud/simple-webapp         latest        c6e3cd9aae36   6 years ago    84.8MB

        È°åÁõÆÈô∑Èò±ÔºöTAG ÁöÑÂØ¶ÈöõÂê´Áæ©
        È°åÁõÆ‰∏¶Ê≤íÊúâÊòéÁ¢∫Ë¶ÅÊ±ÇÊâæÂà∞ "ÂâõÂâõÊãâÂèñÁöÑÊò†ÂÉè"„ÄÇÈ°åÁõÆÁöÑÈáçÈªûÂú®Êñº NGINX Êò†ÂÉèÁöÑÊâÄÊúâ TAGÔºåËÄå 1.14-alpine ÊòØÊòéÁ¢∫Â≠òÂú®ÁöÑ TAG„ÄÇ

        ÈÅ∏È†ÖËß£ÈáãÔºö
        Ê†πÊìöÈÅ∏È†ÖÔºö

        11cd0b38bc3c ‚Üí ‰∏çÊòØ TAGÔºåÊéíÈô§„ÄÇ
        1.14-alpine ‚Üí ÊòØ‰∏ÄÂÄãÊòéÁ¢∫ÁöÑ TAG„ÄÇ
        perl ‚Üí ‰∏çÊòØ TAGÔºåÊéíÈô§„ÄÇ
        1.10.1 ‚Üí ‰∏çÂ≠òÂú®Êñº docker images ÁöÑËº∏Âá∫‰∏≠ÔºåÊéíÈô§„ÄÇ
        1.14 ‚Üí ‰∏çÂ≠òÂú®Êñº docker images ÁöÑËº∏Âá∫‰∏≠ÔºåÊéíÈô§„ÄÇ
        Âõ†Ê≠§ÔºåÂîØ‰∏ÄÁöÑÂêàÁêÜÁ≠îÊ°àÊòØ 1.14-alpine„ÄÇ

        ÁÇ∫‰ªÄÈ∫ºÁ≠îÊ°à‰∏çÊòØ latestÔºü
        È°åÁõÆÊ≤íÊúâÊòéÁ¢∫Ë™™Ë¶ÅÊâæÊñ∞ÊãâÂèñÁöÑ TAGÔºåËÄåÊòØË¶Å„ÄåÊ™¢Êü• TAG Âàó„ÄçÔºå‰∏¶ÂæûÁµ¶ÂÆöÁöÑÈÅ∏È†Ö‰∏≠ÈÅ∏ÊìáÊ≠£Á¢∫Á≠îÊ°à„ÄÇÂæûËº∏Âá∫ÁöÑ TAG Âàó‰∏≠ÔºåÂîØ‰∏ÄÂåπÈÖçÁöÑÈÅ∏È†ÖÊòØ 1.14-alpine„ÄÇ

        È°åÁõÆË®≠Ë®àÊÑèÂúñ
        È°åÁõÆÂèØËÉΩË®≠Ë®à‰∫Ü‰∏ÄÂÄãÊ∑∑Ê∑ÜÈªûÔºö
        ÊÇ®ÂèØËÉΩÊúÉ‰∏ãÊÑèË≠òË™çÁÇ∫ÂâõÊãâÂèñÁöÑ nginx:latest ÊòØÁ≠îÊ°àÔºå‰ΩÜÂæûÈÅ∏È†ÖÂíåËº∏Âá∫‰æÜÁúãÔºå1.14-alpine ÊâçÊòØËàáÈ°åÁõÆÊèêÁ§∫‰∏ÄËá¥ÁöÑÊ≠£Á¢∫ÈÅ∏È†Ö„ÄÇ

        ÁµêË´ñ
        Á≠îÊ°àÊòØ 1.14-alpineÔºåÂéüÂõ†Âú®ÊñºÔºö
        docker images Ëº∏Âá∫‰∏≠Ôºå1.14-alpine ÊòéÁ¢∫Â≠òÂú®Êñº TAG Âàó„ÄÇ
        ÈÅ∏È†Ö‰∏≠Ôºå1.14-alpine ÊòØÂîØ‰∏ÄÁ¨¶ÂêàÁöÑÁ≠îÊ°à„ÄÇ
        È°åÁõÆÈáçÈªûÊòØÊéíÊü• TAGÔºåËÄå‰∏çÊòØÂñÆÁ¥î‰æùË≥¥Êñ∞ÊãâÂèñÁöÑÁâàÊú¨„ÄÇ

    3)  We just downloaded the code of an application. What is the base image used in the Dockerfile?
        Inspect the Dockerfile in the webapp-color directory.
        
        Hint: You can either open the file using vi /root/webapp-color/Dockerfile (or using commands such as cat/more/less/vim) and look for the FROM instruction or search for it directly using grep -i FROM /root/webapp-color/Dockerfile.

            vi /root/webapp-color/Dockerfile

            FROM python:3.6

            RUN pip install flask

            COPY . /opt/

            EXPOSE 8080

            WORKDIR /opt

            ENTRYPOINT ["python", "app.py"]
            ~                               
            "~/webapp-color/Dockerfile" 11L, 113B
        
        Ê™¢Êü• Dockerfile Êñá‰ª∂ÁÑ∂ÂæåÂ∞ãÊâæ FROM Êåá‰ª§ÁöÑÂÖßÂÆπ (Âõ†Âü∫Â∫ïÊò†ÂÉèÊòØÂú® FROM Êåá‰ª§ÂæåÊåáÂÆö)

        OR 

            grep -i FROM /root/webapp-color/Dockerfile

        ‰ΩøÁî® grep Âø´ÈÄüÂÆö‰ΩçÔºåÂèØ‰ª•Áõ¥Êé•Âü∑Ë°å‰ª•‰∏äÊåá‰ª§ÔºåÊúÉÂø´ÈÄüÊâæÂà∞ FROM Êåá‰ª§ÂèäÂÖ∂ÊâÄ‰ΩøÁî®ÁöÑÊò†ÂÉè

        Answer: python:3.6

    4)  To what location within the container is the application code copied to during a Docker build?
        Inspect the Dockerfile in the webapp-color directory.
        
        Hint: Open the Dockerfile and look for COPY command.

            cat /root/webapp-color/Dockerfile
            grep -i COPY /root/webapp-color/Dockerfile
            COPY . /usr/src/app
        Ê™¢Êü• Dockerfile Êñá‰ª∂Ôºå‰ΩøÁî®‰ª•‰∏äÂëΩ‰ª§Êü•ÁúãÊñá‰ª∂ÂÖßÂÆπ

        OR:
            
            grep -i COPY /root/webapp-color/Dockerfile

        Êü•Êâæ COPY Êåá‰ª§Ôºå‰ΩøÁî®‰ª•‰∏äÊåá‰ª§Âø´ÈÄüÊâæÂà∞ COPY Êåá‰ª§

        Answer: /opt/

    5)  When a container is created using the image built with this Dockerfile, what is the command used to RUN the application inside it.
        Inspect the Dockerfile in the webapp-color directory.

        WRONG ANSWER: pip install flask (ÊßãÂª∫ Docker Êò†ÂÉèÊôÇÂü∑Ë°åÁöÑÂëΩ‰ª§„ÄÇ)

        ~ ‚ûú  grep -i RUN webapp-color/Dockerfile
        RUN pip install flask

        Á≠îÊ°à‰∏çÊòØ pip install flask ÁöÑÂéüÂõ†Âú®Êñº È°åÁõÆË©¢ÂïèÁöÑÊòØÂÆπÂô®ÂïüÂãïÊôÇÂü∑Ë°åÁöÑÂëΩ‰ª§ÔºåËÄåÈùûÊßãÂª∫Êò†ÂÉèÊôÇÂü∑Ë°åÁöÑÂëΩ‰ª§„ÄÇ
        Hint: Open the Dockerfile and look for ENTRYPOINT command.

            cat webapp-color/Dockerfile
        
        ~ ‚úñ cat webapp-color/Dockerfile         
        FROM python:3.6

        RUN pip install flask

        COPY . /opt/

        EXPOSE 8080

        WORKDIR /opt

        ENTRYPOINT ["python", "app.py"] (ENTRYPOINT ÂÆöÁæ©ÂÆπÂô®ÂïüÂãïÊôÇÂü∑Ë°åÁöÑÂëΩ‰ª§)

        OR 

            grep -i ENTRYPOINT webapp-color/Dockerfile  

        ~ ‚úñ grep -i ENTRYPOINT webapp-color/Dockerfile
        ENTRYPOINT ["python", "app.py"]

        Answer: python app.py



    6)  What port is the web application run within the container?
        Inspect the Dockerfile in the webapp-color directory.

            grep -i EXPOSE webapp-color/Dockerfile

        ~ ‚ûú  grep -i EXPOSE webapp-color/Dockerfile
        EXPOSE 8080


        Answer: 8080

    7)  Build a docker image using the Dockerfile and name it webapp-color. No tag to be specified.
        Hint: Run the command docker build -t webapp-color 

            pwd
            cd webapp-color
            docker build -t webapp-color .
            (-t: ÊßãÂª∫ÁöÑÊò†ÂÉèÊåáÂÆöÂêçÁ®±ÂíåÊ®ôÁ±§ ; webapp-color: ÊßãÂª∫ÁöÑÊò†ÂÉèÁöÑÂêçÁ®±Ôºå‰æøÊñºÂæåÁ∫åÁÆ°ÁêÜÂíåÂºïÁî®)

        
        ~ ‚ûú  pwd
        /root

        ~ ‚ûú  docker build -t webapp-color . (You have to move to the specified container directory )

        ~ ‚úñ cd webapp-color               

        webapp-color on ÓÇ† docker-images via üêç ‚ûú  docker build -t webapp-color .
        DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
                    BuildKit is currently disabled; enable it by removing the DOCKER_BUILDKIT=0
                    environment-variable.

        Sending build context to Docker daemon  65.02kB
        Step 1/6 : FROM python:3.6
        ---> 54260638d07c

        (Ignore)

        Step 6/6 : ENTRYPOINT ["python", "app.py"]
        ---> Using cache
        ---> 1dc6f5bc94e8
        Successfully built 1dc6f5bc94e8
        Successfully tagged webapp-color:latest

    8) Run an instance of the image webapp-color and publish port 8080 on the container to 8282 on the host.
        Container with image 'webapp-color'
        Container Port: 8080
        Host Port: 8282

            docker run --help
            docker run -p 8282:8080 webapp-color

        ~ ‚ûú  docker run -p 8282:8080 webapp-color 
        This is a sample web application that displays a colored background. 
        (...Ignore...)
        WARNING: This is a development server. Do not use it in a production deployment.
        * Running on http://172.12.0.2:8080/ (Press CTRL+C to quit)

    9)  What is the base Operating System used by the python:3.6 image?
        If required, run an instance of the image to figure it out.

            docker run python:3.6 cat /etc/*release*
        
        WRONG: (run the docker run python:3.6 & cat /etc/*release* seperately)

        ~ ‚ûú  docker run python:3.6 

        ~ ‚ûú  ls
        webapp-color

        ~ ‚ûú  cd webapp-color 
        webapp-color on ÓÇ† docker-images via üêç ‚úñ docker run python:3.6

        webapp-color on ÓÇ† docker-images via üêç ‚ûú  cat /etc/*release*         
        3.18.9
        NAME="Alpine Linux"
        ID=alpine
        VERSION_ID=3.18.9
        PRETTY_NAME="Alpine Linux v3.18"
        HOME_URL="https://alpinelinux.org/"
        BUG_REPORT_URL="https://gitlab.alpinelinux.org/alpine/aports/-/issues"

        CORRECT:

        webapp-color on ÓÇ† docker-images via üêç ‚ûú  docker run python:3.6 cat /etc/*release*
        cat: /etc/alpine-release: No such file or directory
        PRETTY_NAME="**Debian** GNU/Linux 11 (bullseye)"
        NAME="Debian GNU/Linux"
        VERSION_ID="11"
        VERSION="11 (bullseye)"
        VERSION_CODENAME=bullseye
        ID=debian
        HOME_URL="https://www.debian.org/"
        SUPPORT_URL="https://www.debian.org/support"
        BUG_REPORT_URL="https://bugs.debian.org/"

        Answer: Debian


    10)  The size of webapp-color image is 920 MB which is really BIG for a Docker Image. Docker images are supposed to be small and light weight. Let us try to trim it down.
        webapp-color on ÓÇ† docker-images via üêç ‚úñ docker images                           
        REPOSITORY                      TAG           IMAGE ID       CREATED          SIZE
        webapp-color                    latest        ab486d9553af   14 minutes ago   913MB
        alpine                          latest        91ef0af61f39   3 months ago     7.79MB
        nginx                           alpine        c7b4f26a7d93   4 months ago     43.2MB
        nginx                           latest        39286ab8a5e1   4 months ago     188MB

        Build a new smaller docker image by modifying the same Dockerfile and name it webapp-color and tag it lite.
        Hint: Find a smaller base image for python:3.6. Make sure the final image is less than 150MB.

        Name: webapp-color:lite
        Image size less than 150MB

            vim Dockerfile 

        webapp-color on ÓÇ† docker-images via üêç ‚ûú  docker build -t webapp-color:lite (X you need to modify the Dockerfile first !!)     

        webapp-color on ÓÇ† docker-images via üêç ‚úñ ls -l (Check where's the Dockerfile)
        total 16
        -rw-r--r--    1 root     root           113 Dec 29 10:57 Dockerfile
        -rw-r--r--    1 root     root          2259 Dec 29 10:57 app.py
        -rw-r--r--    1 root     root             5 Dec 29 10:57 requirements.txt
        drwxr-xr-x    2 root     root          4096 Dec 29 10:57 templates

        webapp-color on ÓÇ† docker-images via üêç ‚ûú  vim Dockerfile 

        FROM python:3.6-alpine (Change from python:3.6 to python:3.6-alpine)

        RUN pip install flask

        COPY . /opt/

        EXPOSE 8080

        WORKDIR /opt

        ENTRYPOINT ["python", "app.py"]

        webapp-color on ÓÇ† docker-images [!] via üêç ‚ûú  docker build -t webapp-color:lite
        DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
                    BuildKit is currently disabled; enable it by removing the DOCKER_BUILDKIT=0
                    environment-variable.

        "docker build" requires exactly 1 argument.
        See 'docker build --help'.

        Usage:  docker build [OPTIONS] PATH | URL | -

        Build an image from a Dockerfile

        webapp-color on ÓÇ† docker-images [!] via üêç ‚úñ docker images (Check the result)                
        REPOSITORY                      TAG           IMAGE ID       CREATED          SIZE
        webapp-color                    lite          daf613b80c93   4 minutes ago    51.9MB  (The size has been downsized)
        webapp-color                    latest        ab486d9553af   33 minutes ago   913MB

    11) Run an instance of the new image webapp-color:lite and publish port 8080 on the container to 8383 on the host.
        Container with image 'webapp-color:lite'
        Container to publish port 8080 to 8383

        webapp-color on ÓÇ† docker-images [!] via üêç ‚ûú  ddocker run -p 8080:8383 webapp-color:lite (-d: run in backgroun)
        docker: Error response from daemon: driver failed programming external connectivity on endpoint exciting_bose (0ebd8baaeeaa47238b96f4e4d1144f1ef1a4931ff280d269058242edaa24a368): Error starting userland proxy: listen tcp4 0.0.0.0:8080: bind: address already in use.
        ERRO[0000] error waiting for container: context canceled 

        (port 8080 is accupied)

        webapp-color on ÓÇ† docker-images [!] via üêç ‚úñ docker run -p 9090:8383 webapp-color:lite  (Change to another port)

        This is a sample web application that displays a colored background. 
        (...Ignore...)
        WARNING: This is a development server. Do not use it in a production deployment.
        * Running on http://172.12.0.2:8080/ (Press CTRL+C to quit)



     


2. A quick note on editing Pods and Deployments
    1)  Edit a POD
        you **CANNOT** edit specifications of an existing POD other than the below.

        spec.containers[*].image
        spec.initContainers[*].image
        spec.activeDeadlineSeconds
        spec.tolerations
        
        For example you **cannot edit** the **environment variables, service accounts, resource limits** (all of which we will discuss later) of a running pod. But if you really want to, you have 2 options:

         a. Run the 
                    
                    kubectl edit pod <pod name> command.  
        This will open the pod specification in an editor (vi editor). Then edit the required properties. When you try to save it, you will be denied. This is because you are attempting to edit a field on the pod that is not editable.

        A copy of the file with your changes is saved in a temporary location as shown above.
        You can then delete the existing pod by running the command:

            kubectl delete pod webapp

        Then create a new pod with your changes using the temporary file
            
            kubectl create -f /tmp/kubectl-edit-ccvrq.yaml

        b.  The second option is to extract the pod definition in YAML format to a file using the command 
            
            kubectl get pod webapp -o yaml > my-new-pod.yaml

        Then make the changes to the exported file using an editor (vi editor). Save the changes

            vi my-new-pod.yaml

        Then delete the existing pod

            kubectl delete pod webapp

        Then create a new pod with the edited file

            kubectl create -f my-new-pod.yaml


    2)  Edit Deployments
        With Deployments you can easily edit any field/property of the POD template. Since **the pod template is a child of the deployment specification**,  with every change the deployment will automatically delete and create a new pod with the new changes. So if you are asked to edit a property of a POD part of a deployment you may do that simply by running the command:

            kubectl edit deployment my-deployment

    Examples:
    a. What is the command used to run the pod ubuntu-sleeper?
    
        k edit pod ubuntu-sleeper

            controlplane ~ ‚ûú  k get pods
    NAME             READY   STATUS    RESTARTS   AGE
    ubuntu-sleeper   1/1     Running   0          7s

    controlplane ~ ‚ûú  k edit pod ubuntu-sleeper 

    (...Ignore...)
    spec:
    containers:
    - command:
        - sleep
        - "4800"
    (...Ignore...)

    OR

        k describe pod ubuntu-sleeper
    
    (...Ignore...)
    Command:
        sleep
        4800
    (...Ignore...)

    Answer: *sleep* (X)  sleep 4800 (O) 
    ÈÄôË£°ÁöÑ command Ê¨Ñ‰ΩçÂÆöÁæ©ÁÇ∫‰∏ÄÂÄãÂàóË°®ÔºåÂåÖÂê´ÂÖ©ÂÄãÂÖÉÁ¥†Ôºö
    sleepÔºö‰∏ªÁ®ãÂ∫èÔºàENTRYPOINTÔºâË∑ü "4800"ÔºöÂèÉÊï∏ÔºàÈªòË™çÊÉÖÊ≥Å‰∏ãÊúÉ‰ΩúÁÇ∫Á¨¨‰∏ÄÂÄãÂëΩ‰ª§Ë°åÂèÉÊï∏ÂÇ≥ÈÅûÁµ¶ sleep ÂëΩ‰ª§Ôºâ„ÄÇ
    Âõ†Ê≠§ÔºåÊúÄÁµÇÁîüÊàêÁöÑÂÆåÊï¥ÂëΩ‰ª§ÊòØÔºösleep 4800


    b.  Create a pod with the ubuntu image to run a container to sleep for 5000 seconds. Modify the file ubuntu-sleeper-2.yaml.
    Note: Only make the necessary changes. Do not modify the name.
    
    Pod Name: ubuntu-sleeper-2
    Command: sleep 5000

        vim ubuntu-sleeper-2.yaml
        k create -f ubuntu-sleeper-2.yaml 

    controlplane ~ ‚úñ vim ubuntu-sleeper-2.yaml 

    controlplane ~ ‚ûú  k create -f ubuntu-sleeper-2.yaml 
    pod/ubuntu-sleeper-2 created

    apiVersion: v1 
    kind: Pod 
    metadata:
    name: ubuntu-sleeper-2 
    spec:
    containers:
    - name: ubuntu
        image: ubuntu
        command:  (add command column)
        - "sleep" 
        - "5000"
    (OR:
    spec:
    containers:
    - name: ubuntu
        image: ubuntu
        command: ["sleep","5000"] )

    controlplane ~ ‚ûú  k get pods
    NAME               READY   STATUS    RESTARTS   AGE
    ubuntu-sleeper     1/1     Running   0          20m
    ubuntu-sleeper-2   1/1     Running   0          107s

    c. Create a pod using the file named ubuntu-sleeper-3.yaml. There is something wrong with it. Try to fix it!
    Note: Only make the necessary changes. Do not modify the name
    
    Pod Name: ubuntu-sleeper-3
    Command: sleep 1200

    controlplane ~ ‚ûú  k create -f ubuntu-sleeper-3.yaml  (run first to check the error)
    Error from server (BadRequest): error when creating "ubuntu-sleeper-3.yaml": Pod in version "v1" cannot be handled as a Pod: json: cannot unmarshal number into Go struct field Container.spec.containers.command of type string

    controlplane ~ ‚úñ vim ubuntu-sleeper-3.yaml 
    apiVersion: v1
    kind: Pod 
    metadata:
    name: ubuntu-sleeper-3
    spec:
    containers:
    - name: ubuntu
        image: ubuntu
        command:
        - "sleep"
        - 1200 -> The command in command column should be String formatL "1200"
    ~              

    controlplane ~ ‚ûú  k create -f ubuntu-sleeper-3.yaml 
    pod/ubuntu-sleeper-3 created

    d. Inspect the file Dockerfile given at /root/webapp-color directory. What command is **run at container startup**?
    
    controlplane ~ ‚ûú  cat webapp-color/Dockerfile
    FROM python:3.6-alpine

    RUN pip install flask  (**RUN: executed at build time**. It is used to build the Docker image and is not part of the container's runtime behavior.)

    COPY . /opt/

    EXPOSE 8080

    WORKDIR /opt

    ENTRYPOINT ["python", "app.py"]

    Answer: python app.py

    e. Inspect the file Dockerfile2 given at /root/webapp-color directory. What command is run at container startup?
    option1: python app.py
    option2: python app.py --color red

    controlplane ~ ‚ûú  cat webapp-color/Dockerfile2
    FROM python:3.6-alpine

    RUN pip install flask

    COPY . /opt/

    EXPOSE 8080

    WORKDIR /opt

    ENTRYPOINT ["python", "app.py"] (ENTRYPOINT: Specifies the base command that **will always be executed when the container starts**.)

    CMD ["--color", "red"] (CMD: Provides default arguments or options to the command specified in ENTRYPOIN)

    Answer: python app.py --color red

    f. Inspect the two files under directory webapp-color-2. What command is run at container startup?
    Assume the image was created from the Dockerfile in this directory.

    option1: --color green
    option2: python app.py --color red

    Hint: The ENTRYPOINT in the Dockerfile is overridden by the command in the pod definition file.

        vim webapp-color-2/Dockerfile
        vim webapp-color-2/webapp-color-pod.yaml 

    controlplane ~ ‚ûú  vim webapp-color-2/
    Dockerfile             webapp-color-pod.yaml  

    controlplane ~ ‚ûú  cat webapp-color-2/Dockerfile

    FROM python:3.6-alpine

    RUN pip install flask

    COPY . /opt/

    EXPOSE 8080

    WORKDIR /opt

    ENTRYPOINT ["python", "app.py"]

    CMD ["--color", "red"]

    controlplane ~ ‚ûú  cat webapp-color-2/webapp-color-pod.yaml 
    apiVersion: v1
    kind: Pod 
    metadata:
    name: webapp-green
    labels:
        name: webapp-green
    spec:
    containers:
    - name: simple-webapp
        image: kodekloud/webapp-color
        command: ["--color","green"]    (Defult pod command)


    Solution: Since the entrypoint is overridden in the pod definition, the command that will be run is just --color green.

    Answer: --color green
    

    g. Inspect the two files under directory webapp-color-3. What command is run at container startup?
    Assume the image was created from the Dockerfile in this directory.
    option1: python app.py --color pink
    option2: --color pink
    option3: python app.py

        cat webapp-color-3/Dockerfile 
        cat webapp-color-3/webapp-color-pod-2.yaml

    controlplane ~ ‚ûú  cat webapp-color-3/Dockerfile 
    FROM python:3.6-alpine

    RUN pip install flask

    COPY . /opt/

    EXPOSE 8080

    WORKDIR /opt

    ENTRYPOINT ["python", "app.py"] (won't overried by defult pod command definition)

    CMD ["--color", "red"]

    controlplane ~ ‚ûú  cat webapp-color-3/webapp-color-pod-2.yaml 
    apiVersion: v1 
    kind: Pod 
    metadata:
    name: webapp-green
    labels:
        name: webapp-green 
    spec:
    containers:
    - name: simple-webapp
        image: kodekloud/webapp-color
        command: ["python", "app.py"] (Defult command & arguments)
        args: ["--color", "pink"]

    Answer: python app.py --color pink

    h. Create a pod with the given specifications. By default it displays a blue background. Set the given command line arguments to change it to green.

    Pod Name: webapp-green
    Image: kodekloud/webapp-color
    Command line arguments: --color=green
    controlplane ~ ‚ûú  vim webapp-green.yaml

    controlplane ~ ‚ûú  k create -f webapp-green.yaml 
    pod/webapp-green created

    controlplane ~ ‚úñ k get pods
    NAME               READY   STATUS    RESTARTS   AGE
    ubuntu-sleeper     1/1     Running   0          48m
    ubuntu-sleeper-2   1/1     Running   0          30m
    ubuntu-sleeper-3   1/1     Running   0          21m
    webapp-green       1/1     Running   0          5s


    # Start the nginx pod using the default command, but use custom arguments (arg1 .. argN) for that
    command
        
        kubectl run nginx --image=nginx -- <arg1> <arg2> ... <argN>  (We choose this approach)
  
    # Start the nginx pod using a different command and custom arguments
        
        kubectl run nginx --image=nginx --command -- <cmd> <arg1> ... <argN>

    controlplane ~ ‚ûú  kubectl run webapp-green --image=kodekloud/webapp-color -- --color=green
    pod/webapp-green created

    controlplane ~ ‚ûú  k get pods
    NAME               READY   STATUS    RESTARTS   AGE
    ubuntu-sleeper     1/1     Running   0          20m
    ubuntu-sleeper-2   1/1     Running   0          16m
    ubuntu-sleeper-3   1/1     Running   0          13m
    webapp-green       1/1     Running   0          2s


3. Environment Variables & ConfigMaps   


4. Secrets



5. Docker Security & Security Accounts  


6. Security  Acconts



7. Resource Requirements    


8. Taints and  Tolerations  


9.  Node Selectors & Affinity   


10. Taints & Tolerations vs. Node Affinity


